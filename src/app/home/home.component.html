<div class="container">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand">Reddit Post Notifier</div>
        <div class="navbar-brand" style="font-size: small">by /u/BoyAndHisBlob</div>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class="active"><a>Home <span class="sr-only">(current)</span></a></li>
          <li>
            <a href="https://www.reddit.com/message/compose/?to=BoyAndHisBlob&subject=Reddit%20Post%20Notifier"
               target="_blank">Give Feedback or Request Feature</a>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li *ngIf="userIsLoggedIn">
            <form class="navbar-form navbar-left">
              <button type="button" class="btn btn-default btn-sm" (click)="logout()">
                <span class="glyphicon glyphicon-log-out"></span> Log out
              </button>
            </form>
          </li>
          <li *ngIf="!userName && userIsLoggedIn">
            <form class="navbar-form navbar-left">
              <button class="btn btn-default btn-sm" (click)="linkWithReddit()">Link with Reddit</button>
            </form>
          </li>
          <li *ngIf="userName && userIsLoggedIn">
            <a>
              <strong>{{userName}}</strong>
            </a>
          </li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>

  <div class="container" *ngIf="!userIsLoggedIn">
    <div class="alert alert-warning alert-dismissible">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>Please Login.</strong> You must be logged in the Reddit Post Notifier to view and set notification preferences.
    </div>
  </div>

  <div class="container" *ngIf="userIsLoggedIn && !userName">
    <div class="alert alert-warning alert-dismissible">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>Please Link With Reddit.</strong> You must link with Reddit to request PM notifications.
    </div>
  </div>

  <div [hidden]="userIsLoggedIn" id="firebaseui-auth-container"></div>

  <div class="starter-template" *ngIf="userIsLoggedIn && userName">
    <div class="col-xs-12 well" style="background: rgb(252, 252, 252);">
      <h3>New Post Notification Preferences For
        <select name="subredditSelect" [(ngModel)]="selectedSubreddit" (change)="loadPreferences(selectedSubreddit)">
          <option *ngFor="let subreddit of subreddits"  [value]="subreddit">
            {{subreddit}}
          </option>
        </select>
      </h3>
      <div>
        <label for="redditPm">Get PMs Sent To {{userName}}: </label>
        <input type="checkbox" id="redditPm" name="redditPm" [(ngModel)]="preferences.pmPreference" (change)="updatePreferences()"/>
      </div>
    </div>
  </div>
</div>
